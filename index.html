<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodePen Pro</title>
    <meta name="description" content="–û–Ω–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ HTML, CSS –∏ JavaScript">
    <meta name="theme-color" content="#667eea">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/solarized.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>CodePen Pro</h1>
        <div class="controls">
            <button id="run-btn" title="Ctrl+Enter">‚ñ∂ Run</button>
            <button id="format-btn" title="–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">üé® Format</button>
            <button id="fullscreen-btn" title="–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–µ–≤—å—é">‚õ∂ Fullscreen</button>
            <button id="snow-btn" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–Ω–µ–≥–æ–ø–∞–¥">‚ùÑÔ∏è Snow</button>
            <button id="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
    </header>
        <main>
        <div class="editor-container">
            <div class="tabs">
                <button class="tab active" data-tab="html">HTML</button>
                <button class="tab" data-tab="css">CSS</button>
                <button class="tab" data-tab="js">JS</button>
                <div class="status-bar">
                    <span id="cursor-info">Ln 1, Col 1</span>
                    <span id="char-count">0 —Å–∏–º–≤–æ–ª–æ–≤</span>
                </div>
            </div>
            
            <div class="editors">
                <div id="html-editor" class="editor active"></div>
                <div id="css-editor" class="editor"></div>
                <div id="js-editor" class="editor"></div>
            </div>

            <div class="console-container">
                <div class="console-header">
                    <span>Console</span>
                    <button id="clear-console" title="–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å">üóë</button>
                </div>
                <div id="console" class="console"></div>
            </div>
        </div>

        <div class="resizer" id="resizer"></div>

        <div class="preview-container">
            <div class="preview-header">
                <span>Preview</span>
                <div class="preview-controls">
                    <button id="preview-desktop" class="preview-size-btn active" title="Desktop">üñ•Ô∏è</button>
                    <button id="preview-tablet" class="preview-size-btn" title="Tablet">üì±</button>
                    <button id="preview-mobile" class="preview-size-btn" title="Mobile">üì≤</button>
                    <button id="refresh-preview" title="–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–≤—å—é">üîÑ</button>
                </div>
            </div>
            <div class="preview-wrapper">
                <iframe id="preview" srcdoc="<html><body></body></html>"></iframe>
            </div>
        </div>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/html-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/css-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/javascript-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closetag.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/xml-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/indent-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/brace-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/comment-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/search.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/searchcursor.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/jump-to-line.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/dialog/dialog.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/dialog/dialog.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.8.0/standalone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.8.0/parser-html.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.8.0/parser-postcss.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.8.0/parser-babel.min.js"></script>
    <script src="script.js"></script>
    
    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <button id="close-settings" class="close-btn">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>üé® –í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
                    <div class="setting-item">
                        <label for="modal-theme-select">–¢–µ–º–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:</label>
                        <select id="modal-theme-select">
                            <option value="default">Light</option>
                            <option value="dracula">Dracula</option>
                            <option value="monokai">Monokai</option>
                            <option value="material">Material</option>
                            <option value="solarized">Solarized</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="modal-global-theme-select">–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:</label>
                        <select id="modal-global-theme-select">
                            <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                            <option value="dark">–¢—ë–º–Ω–∞—è</option>
                            <option value="blue">–°–∏–Ω—è—è</option>
                            <option value="purple">–§–∏–æ–ª–µ—Ç–æ–≤–∞—è</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="modal-ignore-alerts"> 
                            –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å alert/confirm/prompt
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="modal-inject-theme-css"> 
                            –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–µ–º—É –≤ CSS —Å–∞–π—Ç–∞
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏</h3>
                    <div class="setting-item">
                        <label for="modal-library-select">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É:</label>
                        <select id="modal-library-select">
                            <option value="">No Library</option>
                            <option value="https://code.jquery.com/jquery-3.6.0.min.js">jQuery</option>
                            <option value="https://unpkg.com/react@18/umd/react.development.js">React</option>
                            <option value="https://unpkg.com/vue@3/dist/vue.global.js">Vue 3</option>
                            <option value="https://cdn.tailwindcss.com">Tailwind CSS</option>
                            <option value="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">Bootstrap CSS</option>
                            <option value="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js">Three.js</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üìÅ –ü—Ä–æ–µ–∫—Ç—ã</h3>
                    <div class="setting-item">
                        <label for="modal-project-select">–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç:</label>
                        <select id="modal-project-select">
                            <option value="default">–ü—Ä–æ–µ–∫—Ç 1</option>
                        </select>
                    </div>
                    <div class="setting-item project-buttons">
                        <button id="modal-new-project-btn" class="settings-btn success">+ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</button>
                        <button id="modal-delete-project-btn" class="settings-btn danger">üóë –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üíæ –§–∞–π–ª—ã</h3>
                    <div class="setting-item project-buttons">
                        <button id="modal-save-btn" class="settings-btn primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                        <button id="modal-export-btn" class="settings-btn primary">üì¶ –≠–∫—Å–ø–æ—Ä—Ç –≤ ZIP</button>
                        <button id="modal-import-btn" class="settings-btn primary">üì• –ò–º–ø–æ—Ä—Ç –∏–∑ ZIP</button>
                        <button id="modal-share-btn" class="settings-btn primary">üîó –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>üîó –ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏</h3>
                    <div class="setting-item project-buttons">
                        <button id="modal-create-link-btn" class="settings-btn success">üîó –°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
                        <button id="modal-view-links-btn" class="settings-btn primary">üìã –ú–æ–∏ —Å—Å—ã–ª–∫–∏</button>
                        <button id="modal-update-link-btn" class="settings-btn primary">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden elements for compatibility -->
    <div style="display: none;">
        <select id="theme-select">
            <option value="default">Light</option>
            <option value="dracula">Dracula</option>
            <option value="monokai">Monokai</option>
            <option value="material">Material</option>
            <option value="solarized">Solarized</option>
        </select>
        <select id="library-select">
            <option value="">No Library</option>
            <option value="https://code.jquery.com/jquery-3.6.0.min.js">jQuery</option>
            <option value="https://unpkg.com/react@18/umd/react.development.js">React</option>
            <option value="https://unpkg.com/vue@3/dist/vue.global.js">Vue 3</option>
            <option value="https://cdn.tailwindcss.com">Tailwind CSS</option>
            <option value="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">Bootstrap CSS</option>
            <option value="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js">Three.js</option>
        </select>
        <select id="project-select">
            <option value="default">–ü—Ä–æ–µ–∫—Ç 1</option>
        </select>
        <select id="global-theme-select">
            <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
            <option value="dark">–¢—ë–º–Ω–∞—è</option>
            <option value="blue">–°–∏–Ω—è—è</option>
            <option value="purple">–§–∏–æ–ª–µ—Ç–æ–≤–∞—è</option>
        </select>
        <input type="checkbox" id="ignore-alerts">
        <input type="checkbox" id="inject-theme-css">
    </div>
    
    <!-- Toast notifications container -->
    <div id="toast-container"></div>
    
    <!-- Fullscreen overlay -->
    <div id="fullscreen-overlay" class="fullscreen-overlay">
        <div class="fullscreen-header">
            <span>Preview - Fullscreen</span>
            <button id="exit-fullscreen">‚úï Exit</button>
        </div>
        <iframe id="fullscreen-preview"></iframe>
    </div>

    <!-- Short Link Management Modal -->
    <div id="link-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="link-modal-title">üîó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏</h2>
                <button id="close-link-modal" class="close-btn">‚úï</button>
            </div>
            <div class="modal-body">
                <!-- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Å—ã–ª–∫–∏ -->
                <div id="create-link-section" class="settings-section">
                    <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É</h3>
                    <div class="setting-item">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:</label>
                        <input type="text" id="current-project-name" readonly>
                    </div>
                    <div class="setting-item">
                        <label>URL –ø—Ä–æ–µ–∫—Ç–∞:</label>
                        <textarea id="project-url" rows="3" readonly></textarea>
                    </div>
                    <div class="setting-item project-buttons">
                        <button id="create-short-link" class="settings-btn success">ÔøΩ –°–æ –∑–¥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É</button>
                    </div>
                </div>

                <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ -->
                <div id="view-links-section" class="settings-section" style="display: none;">
                    <h3>–í–∞—à–∏ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏</h3>
                    <div id="saved-links-list"></div>
                </div>

                <!-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ -->
                <div id="edit-link-section" class="settings-section" style="display: none;">
                    <h3>–û–±–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –ø—Ä–æ–µ–∫—Ç–∞</h3>
                    <div class="setting-item">
                        <label>–¢–µ–∫—É—â–∞—è —Å—Å—ã–ª–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:</label>
                        <input type="text" id="current-project-link" readonly>
                    </div>
                    <div class="setting-item project-buttons">
                        <button id="update-project-link" class="settings-btn success">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –ø—Ä–æ–µ–∫—Ç–∞</button>
                        <button id="delete-project-link" class="settings-btn danger">üóë –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                    </div>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
                <div class="settings-section">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                    <div id="link-result" class="link-result"></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>